(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{102:function(n,e,t){n.exports={loadingWrapper:"Loading_loadingWrapper__10spR",loading:"Loading_loading__1XU7z"}},109:function(n,e,t){"use strict";t.r(e),t.d(e,"addUser",function(){return r}),t.d(e,"addIdentity",function(){return a}),t.d(e,"addAuthorityApi",function(){return i}),t.d(e,"addAuthorityView",function(){return u}),t.d(e,"setIdentityApi",function(){return c}),t.d(e,"setIdentityView",function(){return s}),t.d(e,"updateUser",function(){return d}),t.d(e,"showUser",function(){return l}),t.d(e,"showIdentity",function(){return p}),t.d(e,"showApiAuthority",function(){return m}),t.d(e,"showApiIdentity",function(){return h}),t.d(e,"showViewAuthority",function(){return f}),t.d(e,"showViewIdentity",function(){return b}),t.d(e,"loginApi",function(){return g}),t.d(e,"getUserInfo",function(){return w}),t.d(e,"getViewAuthority",function(){return y});var o=t(7);function r(n){return Object(o.a)("/user",{method:"POST",body:n})}function a(n){var e=n.identity_text;return Object(o.a)("/user/identity/edit?identity_text=".concat(e))}function i(n){var e=[];for(var t in n)e.push("".concat(t,"=").concat(n[t]));var r="?"+e.join("&");return Object(o.a)("/user/authorityApi/edit".concat(r))}function u(n){var e=[];for(var t in n)e.push("".concat(t,"=").concat(n[t]));var r="?"+e.join("&");return Object(o.a)("/user/authorityView/edit".concat(r))}function c(n){return Object(o.a)("/user/setIdentityApi",{method:"POST",body:n})}function s(n){return Object(o.a)("/user/setIdentityView",{method:"POST",body:n})}function d(n){return Object(o.a)("/user/user",{method:"PUT",body:n})}function l(){return Object(o.a)("/user/user")}function p(){return Object(o.a)("/user/identity")}function m(){return Object(o.a)("/user/api_authority")}function h(){return Object(o.a)("/user/identity_api_authority_relation")}function f(){return Object(o.a)("/user/view_authority")}function b(){return Object(o.a)("/user/identity_view_authority_relation")}function g(n){return Object(o.a)("/user/login",{method:"POST",body:n})}function w(){return Object(o.a)("/user/userInfo")}function y(n){var e="?user_id=".concat(n);return Object(o.a)("/user/new".concat(e))}},142:function(n,e,t){"use strict";var o=t(24),r=t(25),a=t(27),i=t(26),u=t(28),c=t(1),s=t.n(c),d=t(45),l=t(18),p=function(n){function e(){return Object(o.a)(this,e),Object(a.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(u.a)(e,n),Object(r.a)(e,[{key:"render",value:function(){var n=this.props.childRoutes;return s.a.createElement(d.Switch,null,n&&n.map(function(n,e){var t=n.component;return s.a.createElement(d.Route,{key:e,path:n.path,render:function(e){return l.a.history=e.history,s.a.createElement(t,Object.assign({},e,{childRoutes:n.children}))}})}))}}]),e}(c.Component);e.a=p},155:function(n,e,t){"use strict";var o=t(111),r=t(24),a=t(25),i=t(27),u=t(26),c=t(28),s=t(1),d=t.n(s),l=t(18),p=[];var m=function(n){var e=n.app,t=n.models,m=void 0===t?[]:t,h=n.component;return function(n){function t(n){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,n))).state={AsyncComponent:null},a.load=function(){Promise.all([h()].concat(Object(o.a)(m.map(function(n){return n()})))).then(function(n){n.slice(1).forEach(function(n){-1===p.indexOf(n.default.namespace)&&(p.push(n.default.namespace),e.model(n.default))}),clearTimeout(a.timer),l.a.changeState({isOpen:!1});var t=n[0].default;a.mounted&&a.setState({AsyncComponent:t})})},a.timer=setTimeout(function(){l.a.changeState({isOpen:!0})},500),a.load(),a}return Object(c.a)(t,n),Object(a.a)(t,[{key:"render",value:function(){var n=this.state.AsyncComponent;return n?d.a.createElement(n,this.props):null}},{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}}]),t}(s.Component)},h=t(5),f={groupName:"\u83dc\u5355\u7ba1\u7406",groupIcon:"user"},b=(l.a.basePath,m({component:function(){return t.e(23).then(t.bind(null,805))},models:[function(){return t.e(24).then(t.bind(null,806))}],app:h.a}),f.groupName,f.groupIcon,l.a.basePath),g={groupName:"\u8bd5\u9898\u7ba1\u7406",groupIcon:"user"},w={groupName:"\u7528\u6237\u7ba1\u7406",groupIcon:"user"},y={groupName:"\u8003\u8bd5\u7ba1\u7406",groupIcon:"user"},k=[{path:b+"/login",component:m({component:function(){return Promise.all([t.e(0),t.e(1),t.e(28),t.e(9)]).then(t.bind(null,792))},models:[function(){return t.e(6).then(t.bind(null,793))}],app:h.a}),text:"\u767b\u5f55",id:"login"},{path:b+"/main",component:m({component:function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(27),t.e(10)]).then(t.bind(null,807))},models:[function(){return t.e(11).then(t.bind(null,794))},function(){return t.e(6).then(t.bind(null,793))}],app:h.a}),text:"\u4e3b\u754c\u9762",id:"main",children:[{path:b+"/main/addQuestions",component:m({component:function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(12)]).then(t.bind(null,795))},models:[function(){return t.e(4).then(t.bind(null,796))}],app:h.a}),text:"\u6dfb\u52a0\u8bd5\u9898",groupName:g.groupName,groupIcon:g.groupIcon,id:"main-addQuestions"},{path:b+"/main/questionsType",component:m({component:function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(13)]).then(t.bind(null,808))},models:[function(){return t.e(14).then(t.bind(null,797))}],app:h.a}),text:"\u8bd5\u9898\u5206\u7c7b",groupName:g.groupName,groupIcon:g.groupIcon,id:"main-questionsType"},{path:b+"/main/watchQuestions",component:m({component:function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(15)]).then(t.bind(null,809))},models:[function(){return t.e(5).then(t.bind(null,798))}],app:h.a}),text:"\u67e5\u770b\u8bd5\u9898",groupName:g.groupName,groupIcon:g.groupIcon,id:"main-watchQuestions"},{path:b+"/main/editQuestions",component:m({component:function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(16)]).then(t.bind(null,799))},models:[function(){return t.e(4).then(t.bind(null,796))},function(){return t.e(5).then(t.bind(null,798))}],app:h.a}),showAside:"no",text:"\u7f16\u8f91\u8bd5\u9898",groupName:g.groupName,groupIcon:g.groupIcon,id:"main-editQuestions"},{path:b+"/main/questions/detail",component:m({component:function(){return Promise.all([t.e(0),t.e(26),t.e(17)]).then(t.bind(null,800))},models:[function(){return t.e(4).then(t.bind(null,796))},function(){return t.e(5).then(t.bind(null,798))}],app:h.a}),showAside:"no",text:"\u8bd5\u9898\u8be6\u60c5",groupName:g.groupName,groupIcon:g.groupIcon,id:"main-questionsDetail"},{path:b+"/main/addUser",component:m({component:function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(18)]).then(t.bind(null,810))},models:[function(){return t.e(19).then(t.bind(null,811))},function(){return t.e(7).then(t.bind(null,801))}],app:h.a}),text:"\u6dfb\u52a0\u7528\u6237",groupName:w.groupName,groupIcon:w.groupIcon,id:"main-addUser"},{path:b+"/main/showUser",component:m({component:function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(20)]).then(t.bind(null,802))},models:[function(){return t.e(7).then(t.bind(null,801))}],app:h.a}),text:"\u7528\u6237\u5c55\u793a",groupName:w.groupName,groupIcon:w.groupIcon,id:"main-showUser"},{path:b+"/main/addExam",component:m({component:function(){return t.e(21).then(t.bind(null,803))},models:[function(){return t.e(22).then(t.bind(null,804))}],app:h.a}),text:"\u6dfb\u52a0\u8003\u8bd5",groupName:y.groupName,groupIcon:y.groupIcon,id:"main-addExam"}]}];e.a=k},175:function(n,e,t){n.exports=t(328)},18:function(n,e,t){"use strict";var o={basePath:"/public/spa/spa"};window.UtilGlobal=o,e.a=o},219:function(n,e){},322:function(n,e,t){},324:function(n,e,t){var o=t(325);"string"===typeof o&&(o=[[n.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(172)(o,r);o.locals&&(n.exports=o.locals)},325:function(n,e,t){(n.exports=t(171)(!1)).push([n.i,".react-markdown {\n  line-height: 1.6;\n  word-wrap: break-word;\n}\n.react-markdown > h1:first-child,\n.react-markdown blockquote:first-child,\n.react-markdown h2:first-child,\n.react-markdown h3:first-child,\n.react-markdown h4:first-child,\n.react-markdown ol:first-child,\n.react-markdown p:first-child,\n.react-markdown pre:first-child,\n.react-markdown ul:first-child {\n  margin-top: 0;\n}\n.react-markdown blockquote ol:last-child,\n.react-markdown blockquote p:last-child,\n.react-markdown blockquote ul:last-child {\n  margin-bottom: 0;\n}\n.react-markdown blockquote,\n.react-markdown h4,\n.react-markdown ol,\n.react-markdown p,\n.react-markdown pre,\n.react-markdown table,\n.react-markdown ul {\n  margin: 1.5em 0;\n}\n.react-markdown p:first-child {\n  margin-top: 0;\n}\n.react-markdown p:last-child {\n  margin-bottom: 0;\n}\n.react-markdown a {\n  color: #009a61;\n  text-decoration: none;\n  display: inline-block;\n  max-width: 320px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n}\n.react-markdown a:hover {\n  color: #004e31;\n  text-decoration: underline;\n}\n.react-markdown img {\n  max-width: 100%;\n  display: block;\n}\n.react-markdown blockquote {\n  margin: 1.5em 0;\n  padding: 5px 20px;\n  border-left: 2px solid #009a61;\n  background: #f6f6f6;\n  color: #555;\n  font-size: 1em;\n}\n.react-markdown pre {\n  display: block;\n  padding: 1em;\n  overflow: auto;\n  line-height: 1.3;\n  max-height: 35em;\n  color: #657b83;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AgMAAABHkjHhAAAACVBMVEWAgIBaWlo+Pj7rTFvWAAAAA3RSTlMHCAw+VhR4AAAA+klEQVQoz4WSMW7EQAhFPxKWNh2FCx+HkaZI6RRb5DYbyVfIJXLKDCFoMbaTKSw/8ZnPAPjaH2xgZcUNUDADD7D9LtDBCLZ45fbkvo/30K8yeI64pPwl6znd/3n/Oe93P3ho9qeh72btTFzqkz0rsJle8Zr81OLEwZ1dv/713uWqvu2pl+k0fy7MWtj9r/tN5q/02z89qa/L4Dc2LvM93kezPfXlME/O86EbY/V9GB9ePX8G1/6W+/9h1dq/HGfTfzT3j/xNo7522Bfnqe5jO/fvhVthlfk434v3iO9zG/UOphyPeinPl1J8Gtaa7xPTa/Dk+RIs4deMvwGvcGsmsCvJ0AAAAABJRU5ErkJggg==) #f6f6f6;\n  background-size: 30px 30px;\n}\n.react-markdown h1,\n.react-markdown h2,\n.react-markdown h3 {\n  margin: 1.5em 0 0;\n}\n.react-markdown h1,\n.react-markdown h2 {\n  padding-bottom: 10px;\n  border-bottom: 1px solid #eee;\n}\n.react-markdown h1 {\n  font-size: 2.25em;\n}\n.react-markdown h2 {\n  font-size: 1.75em;\n}\n.react-markdown h3 {\n  font-size: 1.5em;\n}\n.react-markdown h4 {\n  font-size: 1.25em;\n}\n.react-markdown h5 {\n  font-size: 1em;\n}\n.react-markdown h6 {\n  font-size: 0.86em;\n}\n.react-markdown hr {\n  margin: 1.5em auto;\n  border: 0;\n  border-top: 2px dotted #eee;\n}\n",""])},328:function(n,e,t){"use strict";t.r(e);var o,r=t(5),a=t(24),i=t(25),u=t(27),c=t(26),s=t(28),d=t(16),l=t(1),p=t.n(l),m=t(45),h=t(142),f=t(155),b=t(102),g=t.n(b),w=function(n){function e(){return Object(a.a)(this,e),Object(u.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(s.a)(e,n),Object(i.a)(e,[{key:"render",value:function(){var n=this.props.isOpen;return p.a.createElement("div",{className:g.a.loadingWrapper,style:{display:n?"block":"none"}},p.a.createElement("span",{className:g.a.loading},"loading..."))}}]),e}(l.Component),y=t(58),k=t(18),O=Object(y.connect)(function(n){return Object(d.a)({},n.global)})(o=function(n){function e(n){var t;return Object(a.a)(this,e),t=Object(u.a)(this,Object(c.a)(e).call(this,n)),k.a.changeState=function(n){!t.props.isLoad&&n.isOpen&&(n=Object(d.a)({},n,{isLoad:!0})),t.props.dispatch(Object(d.a)({type:"global/changeState"},n))},t}return Object(s.a)(e,n),Object(i.a)(e,[{key:"render",value:function(){var n=this.props,e=n.isLoad,t=n.isOpen;return p.a.createElement(p.a.Fragment,null,e?p.a.createElement(w,{isOpen:t}):null,p.a.createElement(m.BrowserRouter,null,p.a.createElement(h.a,{childRoutes:f.a})))}}]),e}(l.Component))||o;var v=function(){return p.a.createElement(O,null)},j=t(71),A=t.n(j),x=t(109),I={namespace:"global",state:{isLoad:!1,isOpen:!1,viewAuthority:[]},reducers:{changeState:function(n,e){return Object(d.a)({},n,e)}},effects:{getViewAuthority:A.a.mark(function n(e,t){var o,r,a,i;return A.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.call,r=t.put,a=e.user_id,n.next=4,o(x.getViewAuthority,a);case 4:if(1!==(i=n.sent).code){n.next=8;break}return n.next=8,r({type:"changeState",viewAuthority:i.data});case 8:case"end":return n.stop()}},n,this)})}},P=t(164),N=t.n(P);t(322),t(324);r.a.use(N()()),r.a.model(I),r.a.router(v),r.a.start("#root")},5:function(n,e,t){"use strict";var o=t(58),r=t.n(o),a=t(159),i=t.n(a),u=r()({history:i()()});e.a=u},7:function(n,e,t){"use strict";t.d(e,"a",function(){return h});var o=t(16),r=(t(282),t(162)),a=t.n(r),i=t(160),u=t.n(i),c=t(161),s=t.n(c),d={push:function(n){console.log(n)}},l={200:"\u670d\u52a1\u5668\u6210\u529f\u8fd4\u56de\u8bf7\u6c42\u7684\u6570\u636e\u3002",201:"\u65b0\u5efa\u6216\u4fee\u6539\u6570\u636e\u6210\u529f\u3002",202:"\u4e00\u4e2a\u8bf7\u6c42\u5df2\u7ecf\u8fdb\u5165\u540e\u53f0\u6392\u961f\uff08\u5f02\u6b65\u4efb\u52a1\uff09\u3002",204:"\u5220\u9664\u6570\u636e\u6210\u529f\u3002",400:"\u53d1\u51fa\u7684\u8bf7\u6c42\u6709\u9519\u8bef\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u8fdb\u884c\u65b0\u5efa\u6216\u4fee\u6539\u6570\u636e\u7684\u64cd\u4f5c\u3002",401:"\u7528\u6237\u6ca1\u6709\u6743\u9650\uff08\u4ee4\u724c\u3001\u7528\u6237\u540d\u3001\u5bc6\u7801\u9519\u8bef\uff09\u3002",403:"\u7528\u6237\u5f97\u5230\u6388\u6743\uff0c\u4f46\u662f\u8bbf\u95ee\u662f\u88ab\u7981\u6b62\u7684\u3002",404:"\u53d1\u51fa\u7684\u8bf7\u6c42\u9488\u5bf9\u7684\u662f\u4e0d\u5b58\u5728\u7684\u8bb0\u5f55\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u8fdb\u884c\u64cd\u4f5c\u3002",406:"\u8bf7\u6c42\u7684\u683c\u5f0f\u4e0d\u53ef\u5f97\u3002",410:"\u8bf7\u6c42\u7684\u8d44\u6e90\u88ab\u6c38\u4e45\u5220\u9664\uff0c\u4e14\u4e0d\u4f1a\u518d\u5f97\u5230\u7684\u3002",422:"\u5f53\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u53d1\u751f\u4e00\u4e2a\u9a8c\u8bc1\u9519\u8bef\u3002",500:"\u670d\u52a1\u5668\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u670d\u52a1\u5668\u3002",502:"\u7f51\u5173\u9519\u8bef\u3002",503:"\u670d\u52a1\u4e0d\u53ef\u7528\uff0c\u670d\u52a1\u5668\u6682\u65f6\u8fc7\u8f7d\u6216\u7ef4\u62a4\u3002",504:"\u7f51\u5173\u8d85\u65f6\u3002"},p=function(n){if(n.status>=200&&n.status<300)return n;var e=l[n.status]||n.statusText;a.a.error({message:"\u8bf7\u6c42\u9519\u8bef ".concat(n.status,": ").concat(n.url),description:e});var t=new Error(e);throw t.name=n.status,t.response=n,t},m=function(n,e){var t=n.headers.get("Content-Type");return t&&t.match(/application\/json/i)&&n.clone().text().then(function(n){sessionStorage.setItem(e,n),sessionStorage.setItem("".concat(e,":timestamp"),Date.now())}),n};function h(n,e){var t=Object(o.a)({expirys:!1},e),r=n+(t.body?JSON.stringify(t.body):""),a=s.a.sha256().update(r).digest("hex"),i=sessionStorage.getItem("authorization");"POST"!==t.method&&"/user/login"!==n&&(i||(window.location.href="/public/spa/spa/login"));var c=Object(o.a)({},{credentials:"include"},t,{headers:{authorization:i}});"POST"!==c.method&&"PUT"!==c.method&&"DELETE"!==c.method||(c.body instanceof FormData?c.headers=Object(o.a)({Accept:"application/json"},c.headers):(c.headers=Object(o.a)({Accept:"application/json","Content-Type":"application/json; charset=utf-8"},c.headers),c.body=JSON.stringify(c.body)));var l=t.expirys&&60;if(!1!==t.expirys){var h=sessionStorage.getItem(a),f=sessionStorage.getItem("".concat(a,":timestamp"));if(null!==h&&null!==f){if((Date.now()-f)/1e3<l)return new Response(new Blob([h])).json();sessionStorage.removeItem(a),sessionStorage.removeItem("".concat(a,":timestamp"))}}return u()(n,c).then(p).then(function(n){return m(n,a)}).then(function(n){return"DELETE"===c.method||204===n.status?n.text():n.json()}).catch(function(n){var e=n.name;401!==e?403!==e?e<=504&&e>=500?d.push("/exception/500"):e>=404&&e<422&&d.push("/exception/404"):d.push("/exception/403"):window.location.href="/public/spa/spa/login"})}}},[[175,29,25]]]);
//# sourceMappingURL=main.4eef6c53.chunk.js.map